<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="277ced69-270a-428a-9db7-fd978c4a7627" discardOkResults="false" failOnError="true" failTestCaseOnErrors="true" keepSession="false" name="Swish - Seller - Create, pay, make return" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
      <con:settings>
        <con:setting id="f79d6278-3da5-4a4a-8a29-947091d98aaffileName">Create%2C-pay-for-order-with-4-delivered-items-and-then-refund</con:setting>
        <con:setting id="3da1008c-44f0-484a-9337-d21b9812f1e4fileName">Bambora---Seller---Create%2C-pay%2C-make-return</con:setting>
        <con:setting id="277ced69-270a-428a-9db7-fd978c4a7627fileName">Swish---Seller---Create%2C-pay%2C-make-return</con:setting>
      </con:settings>
      <con:savedRecentRuns>1</con:savedRecentRuns>
      <con:testStep type="restrequest" name="Store - Get all my Stores" id="8b2130a9-2a27-4fc7-a045-65212ade1524">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/store" methodName="Store" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Store - Get all my Stores" id="0009bab0-e83c-406b-a978-a5fc427778dd" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>${#Project#baseURL}</con:endpoint>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/store</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="f2e34b52-1b7f-4a4c-a43c-8db1831b5e50" name="Valid HTTP Status Codes - 200">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="a24387fc-5db7-4960-b357-44a9098943fd" name="Match content of [organizationId]">
              <con:configuration>
                <path>$['response'][0]['organizationId']</path>
                <content>${#Project#organizationId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>AdminUser</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
            <con:parameterOrder/>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="5d5a89dc-8908-4184-a97f-26ff52a15fcf">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
              <con:entry environmentId="aea1dabb-28a3-46a3-bec9-dd6a8a297204">
                <con:authProfile>wso2-dev</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Randomize Store" id="793f3d8e-18fb-456f-ad26-3746e11a4d3a">
        <con:settings/>
        <con:config>
          <script>def response = context.expand('${Store - Get all my Stores#Response]}')

def storeIds = context.expand('${Store - Get all my Stores#Response#$[\'response\'][*][\'storeId\']}')
def storeNames = context.expand('${Store - Get all my Stores#Response#$[\'response\'][*][\'name\']}')


def storeIdsList = storeIds.tokenize(',[]') as LinkedList
def storeNamesList = storeNames.tokenize(',[]') as LinkedList
def size = storeIdsList.size()

def automationCreatedStore = true
def automationCreatedStoreName = testRunner.testCase.testSuite.project.getTestSuiteByName("Store").getPropertyValue("storeName").toString()
log.info automationCreatedStoreName

while (automationCreatedStore){
	def randomStore = (Math.abs(new Random().nextInt() % size) + 1) - 1 as int
	def randomStoreName = storeNamesList[randomStore].toString()
	if (randomStoreName.matches("(.*)$automationCreatedStoreName(.*)")){
		automationCreatedStore = true
	} else {
		def randomStoreId = storeIdsList[randomStore]
		automationCreatedStore = false
		testRunner.testCase.setPropertyValue("storeId", randomStoreId)
		log.info randomStoreId
		log.info randomStoreName
	}
}</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="User - Get userId" id="50ed93dd-d9b2-4f8d-81de-0ec4cc2858bd">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/users/user/{username}" methodName="UserId" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="User - Get userId" id="f0fe8b14-bf15-47fa-a58e-0bdfe37af7fb" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>${#Project#baseURL}</con:endpoint>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/user/99246672-10fb-40eb-a569-4bb8392309e7</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e0d6bc21-6a79-4bf8-aa62-6ea5f5925103" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Count" id="9d1bab25-6e34-4d3c-b92a-96a0c9ab09de" name="JSONPath Count-Specific User count">
              <con:configuration>
                <path>$['userId']</path>
                <content>1</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="5844b1c2-9aaa-4585-ae56-7b1626cae17c" name="JSONPath Match-Validate userName ">
              <con:configuration>
                <path>$['userName']</path>
                <content>${#Project#sellerUserAuth}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>AdminUser</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters><con:entry key="Content-Type" value="application/json"/><con:entry key="username" value="${#Project#sellerUserAuth}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>Content-Type</con:entry>
              <con:entry>username</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="5d5a89dc-8908-4184-a97f-26ff52a15fcf">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Property Transfer - sellerId" id="84a2bad0-8710-4ebc-a89b-c02fb5cffc64">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>sellerId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>User - Get userId</con:sourceStep>
            <con:sourcePath>$['userId']</con:sourcePath>
            <con:targetType>sellerId</con:targetType>
            <con:targetStep>#TestSuite#</con:targetStep>
            <con:type>JSONPATH</con:type>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generate UUID for order, basket" id="12a8aad5-051c-46e0-bbd7-008fcf597ae6">
        <con:settings/>
        <con:config>
          <script>def basketId = UUID.randomUUID().toString().toUpperCase()
testRunner.testCase.setPropertyValue("basketId", basketId)

def orderId = UUID.randomUUID().toString().toUpperCase()
testRunner.testCase.setPropertyValue("orderId", orderId)

def lastPartOrderId = orderId[-8..-1]
def date = new Date().format('yyMMdd')
def orderNumber = date.toString() + "-" + lastPartOrderId
testRunner.testCase.setPropertyValue("orderNumber", orderNumber)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generate UUID for itemIds and compose basket/refund basket info" id="4860a830-8a56-4543-9e22-44517c54d66a">
        <con:settings/>
        <con:config>
          <script>def itemId1 = UUID.randomUUID().toString().toUpperCase()
testRunner.testCase.setPropertyValue("itemId1", itemId1)

def itemId2 = UUID.randomUUID().toString().toUpperCase()
testRunner.testCase.setPropertyValue("itemId2", itemId2)

def itemId3 = UUID.randomUUID().toString().toUpperCase()
testRunner.testCase.setPropertyValue("itemId3", itemId3)

def newItems = testRunner.testCase.testSuite.project.getPropertyValue("2_payment_newItems").toString()
def deliveringItemsFromWarehouses = testRunner.testCase.testSuite.project.getPropertyValue("2_payment_deliveringItemsFromWarehouses").toString()
def amountToCharge = testRunner.testCase.testSuite.project.getPropertyValue("2_amountToCharge").toString()

def returningItems = testRunner.testCase.testSuite.project.getPropertyValue("2_returningItems").toString()
def amountToRefund = testRunner.testCase.testSuite.project.getPropertyValue("2_amountToRefund").toString()


newItems = newItems.replaceAll("REPLACE_THIS_WITH_ITEM_ID_1",itemId1)
newItems = newItems.replaceAll("REPLACE_THIS_WITH_ITEM_ID_2",itemId2)
newItems = newItems.replaceAll("REPLACE_THIS_WITH_ITEM_ID_3",itemId3)

deliveringItemsFromWarehouses = deliveringItemsFromWarehouses.replaceAll("REPLACE_THIS_WITH_ITEM_ID_1",itemId1)
deliveringItemsFromWarehouses = deliveringItemsFromWarehouses.replaceAll("REPLACE_THIS_WITH_ITEM_ID_2",itemId2)
deliveringItemsFromWarehouses = deliveringItemsFromWarehouses.replaceAll("REPLACE_THIS_WITH_ITEM_ID_3",itemId3)

returningItems = returningItems.replaceAll("REPLACE_THIS_WITH_ITEM_ID_1",itemId1)
returningItems = returningItems.replaceAll("REPLACE_THIS_WITH_ITEM_ID_2",itemId2)
returningItems = returningItems.replaceAll("REPLACE_THIS_WITH_ITEM_ID_3",itemId3)

testRunner.testCase.setPropertyValue("newItems", newItems)
testRunner.testCase.setPropertyValue("deliveringItemsFromWarehouses", deliveringItemsFromWarehouses)
testRunner.testCase.setPropertyValue("amountToCharge", amountToCharge)

testRunner.testCase.setPropertyValue("returningItems", returningItems)
testRunner.testCase.setPropertyValue("amountToRefund", amountToRefund)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Order - create order reference" id="ec54a88b-714e-4c71-acb7-0ba0b98db885">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/orders/order/create-reference" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Order - create order reference" id="6e633825-6309-48dd-8699-5d1b6158a1a6" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request>{
   "basket" : {
      "id" : "${#TestCase#basketId}",
      "priceModifierGroups" : [ ],
      "orderID" : "${#TestCase#orderId}",
      "cancellingIrregularItemIDs" : [ ],
      "unreservingItemIDs" : [ ],
      "newItems" : ${#TestCase#newItems},
      "newIrregularItems" : [ ],
      "deliveringItemsFromWarehouses" : ${#TestCase#deliveringItemsFromWarehouses},
      "deliveringItemsUniqueIdentifiers" : [ ],
      "returningItems" : [ ],
      "reservingStockItems" : [ ],
      "specifiedItemPayments" : [ ],
      "removingItemIDs" : [ ],
      "currency" : "SEK"
   },
   "order" : {
      "priceModifierGroups" : [ ],
      "deliveredItems" : [ ],
      "returnedStockItems" : [ ],
      "itemPayments" : [ ],
      "payments" : [ ],
      "reservedStockItems" : [ ],
      "cancelledItems" : [ ],
      "deliveredStockItems" : [ ],
      "irregularItems" : [ ],
      "identifier" : {
         "number" : "${#TestCase#orderNumber}",
         "organizationID" : "${#Project#organizationId}",
         "deviceIDs" : [ ],
         "id" : "${#TestCase#orderId}",
         "userIDs" : [ ],
         "storeIDs" : [ ],
         "warehouseIDs" : [ ],
         "sellerIDs" : [ ]
      },
      "notDeliveredItems" : [ ],
      "sessions" : [ ],
      "cancelledIrregularItems" : [ ],
      "currency" : "SEK"
   }
}</con:request>
            <con:originalUri>https://api-dev.kachingretail.com/api/orders/order/create-reference</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c39c6b1a-2511-4538-83ca-7a1c1bc20215" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="eafe4b14-c143-49db-be5d-00fd7b69d939" name="Match content of [number]">
              <con:configuration>
                <path>$['response']['identifier']['number']</path>
                <content>${#TestCase#orderNumber}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="eb46268c-0ffb-4cd8-8ae9-1123221df2ef" name="Match content of [id]">
              <con:configuration>
                <path>$['response']['identifier']['id']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple Contains" id="127a5c6e-27b1-4c37-8f4b-a5ac0aa0dea6" name="Contains">
              <con:configuration>
                <token>${#Project#organizationId}</token>
                <ignoreCase>true</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="storeId" value="${#TestCase#storeId}"/><con:entry key="deviceId" value="${#Project#deviceId}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>storeId</con:entry>
              <con:entry>deviceId</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Order - Get order by orderId" id="dd2a5a02-945b-414f-88a8-b5ced5f14eae">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/orders/order/{orderId}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Order - Get order by orderId" id="4a7e631c-4483-4f9b-95b5-046f160d3d26" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>${#Project#baseURL}</con:endpoint>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/order/DE3F8EDF-A76D-4F10-888C-F69761C69C37</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b4031e91-c9dd-4925-bc8d-bef0c3da6bd7" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="4424bd33-a8a7-44b6-8ec2-8f5612880379" name="Match content of [payments]">
              <con:configuration>
                <path>$['response']['order']['payments']</path>
                <content>[ ]</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="orderId" value="${#TestCase#orderId}"/></con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Payment - Initialize" id="73918b20-a60b-48b3-9b53-269dad8fc4a2">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/payments/transactions/initialize" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Payment - Initialize" id="559f91c2-32fe-49e3-9907-eb553d2c4185" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request>{
  "paymentMethod": "${#TestSuite#method}",
  "orderId": "${#TestCase#orderId}"
}</con:request>
            <con:originalUri>https://api-dev.kachingretail.com/api/payments/transactions/initialize</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="59ace3dd-534d-4cc6-be29-9d3abed36b4d" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="a28e8ad6-0292-4126-8efe-b50f3c420061" name="Match content of [orderId]">
              <con:configuration>
                <path>$['response']['orderId']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="d8937395-1e00-46a7-878a-e0ab81205d23" name="Match content of [paymentStatus]">
              <con:configuration>
                <path>$['response']['paymentStatus']</path>
                <content>INITIALIZED</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="e2ad02eb-59cd-47ca-b1d2-30a81b82655e" name="Match content of [paymentSubStatus]">
              <con:configuration>
                <path>$['response']['paymentSubStatus']</path>
                <content>INITIALIZED</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="sellerId" value="${#TestSuite#sellerId}"/><con:entry key="storeId" value="${#TestCase#storeId}"/><con:entry key="deviceId" value="${#Project#deviceId}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>storeId</con:entry>
              <con:entry>sellerId</con:entry>
              <con:entry>deviceId</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Property Transfer - paymentId" id="f35cb04e-7585-4a7d-a95f-da714ea844da">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>paymentId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>Payment - Initialize</con:sourceStep>
            <con:sourcePath>$['response']['paymentId']</con:sourcePath>
            <con:targetType>paymentId</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
            <con:targetPath/>
            <con:type>JSONPATH</con:type>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Payment - Get payment by id after initialized" id="b737b671-e086-4887-91e3-65e78b96c395">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/payments/transactions/{paymentId}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Payment - Get payment by id after initialized" id="9004475e-3190-4af6-86ac-0cfbd07bdb0f" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/payments/transactions/1aef7c6f-f525-412f-9589-144da3489c1b</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5ae3920a-7e58-42a3-992f-dbcb3a49600c" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="a95ae8d6-47ba-47f9-912e-24f4fbd8280b" name="Match content of [orderId]">
              <con:configuration>
                <path>$['response']['orderId']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="c5291167-7640-43dc-a1db-4e4054f1a1cf" name="Match content of [paymentId]">
              <con:configuration>
                <path>$['response']['paymentId']</path>
                <content>${#TestCase#paymentId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="be0e4acd-0e0c-45e7-98e9-e222d7273f6d" name="Match content of [paymentStatus]">
              <con:configuration>
                <path>$['response']['paymentStatus']</path>
                <content>INITIALIZED</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="4760b524-ee7a-427d-a643-90fcea51a5fc" name="Match content of [paymentSubStatus]">
              <con:configuration>
                <path>$['response']['paymentSubStatus']</path>
                <content>INITIALIZED</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="paymentId" value="${#TestCase#paymentId}"/></con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Payment - Start" id="80bed13a-5ef0-4c39-8759-912eeb233b7d">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/payments/transactions/start" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Payment - Start" id="6fdd01fb-5a77-47ca-93dd-6737e4697d6e" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>${#Project#baseURL}</con:endpoint>
            <con:request>{
   "paymentId" : "${#TestCase#paymentId}",
   "currencyCode" : "SEK",
   "order" : {
      "items" : ${#TestCase#newItems}
   },
   "details" : {"customer": { "phone": "${#TestSuite#phoneNumber}" } },
   "centAmount" : ${#TestCase#amountToCharge}
}</con:request>
            <con:originalUri>https://api-dev.kachingretail.com/api/payments/3.0/transactions/start</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="531bfe99-2d53-4e78-ae35-b578c9c98fa6" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="732cd0fe-8b8e-49c3-90e2-0a3507223b29" name="Match content of [orderId]">
              <con:configuration>
                <path>$['response']['orderId']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="ebd28e3f-01d9-4745-bd86-068e91966da5" name="Match content of [paymentId]">
              <con:configuration>
                <path>$['response']['paymentId']</path>
                <content>${#TestCase#paymentId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="0ab11323-e2f4-45ab-b8b1-7783055dcc3c" name="Match content of [centAmount]">
              <con:configuration>
                <path>$['response']['centAmount']</path>
                <content>${#TestCase#amountToCharge}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="a70e904a-d16c-4ac9-a1b1-2bab2e790321" name="Match content of [paymentSubStatus]">
              <con:configuration>
                <path>$['response']['paymentSubStatus']</path>
                <content>IN_PROGRESS</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="f114d58b-52cb-4415-b8ef-c5e0067fe61f" name="Match content of [paymentStatus]">
              <con:configuration>
                <path>$['response']['paymentStatus']</path>
                <content>IN_PROGRESS</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="sellerId" value="${#TestSuite#sellerId}"/><con:entry key="storeId" value="${#TestCase#storeId}"/><con:entry key="deviceId" value="${#Project#deviceId}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>storeId</con:entry>
              <con:entry>sellerId</con:entry>
              <con:entry>deviceId</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="f9a2e350-5514-45ab-b04f-e664318b7825">
                <con:authProfile>admin</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Payment - Get payment by id after payment started" id="71d1eb92-5712-41b2-858b-1d2c9b71d92a">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/payments/transactions/{paymentId}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Payment - Get payment by id after payment started" id="9004475e-3190-4af6-86ac-0cfbd07bdb0f" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/payments/transactions/1aef7c6f-f525-412f-9589-144da3489c1b</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5ae3920a-7e58-42a3-992f-dbcb3a49600c" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="6982575a-b842-4276-8207-5700ecac4420" name="Match content of [orderId]">
              <con:configuration>
                <path>$['response']['orderId']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="37b54065-774a-422c-af1d-7cbf09ed34e6" name="Match content of [paymentId]">
              <con:configuration>
                <path>$['response']['paymentId']</path>
                <content>${#TestCase#paymentId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="paymentId" value="${#TestCase#paymentId}"/></con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Repeat until Payment is Ended" id="8dc2c8d8-477a-47b7-8d9e-6fbb9a8c2c18">
        <con:settings/>
        <con:config>
          <script>def response = context.expand('${Payment - Get payment by id after payment started#Response}')

if (response) {
   def isRetry = true
   def retryNum = 0
   while(isRetry) {
   	   def status = context.expand( '${Payment - Get payment by id after payment started#Response#$[\'response\'][\'paymentStatus\']}' )
        retryNum++
  
        log.info "value of status in the response is ${status}"
        log.info "Retry number: ${retryNum}"
        
        if (status == 'ENDED') {
            log.info "Since the value is ENDED, setting value of isRetry to false"
            isRetry = false
        } else {
		 if (retryNum > 25){
		 	isRetry = false
		 	context.testRunner.fail("Timed out. Payment status is still not Ended. Retried ${retryNum} times")    	
		 } else {
           	log.info "Retry as status is not ENDED"
		 	Thread.sleep(2000)
          	testRunner.runTestStepByName('Payment - Get payment by id after payment started')
		 }
        }
   }
} else {
	log.info "Can't get payment"
}</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Order - Get order by orderId after payment added" id="08a2fb14-9bda-41a8-922c-82725c260054">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/orders/order/{orderId}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Order - Get order by orderId after payment added" id="4a7e631c-4483-4f9b-95b5-046f160d3d26" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>${#Project#baseURL}</con:endpoint>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/order/DE3F8EDF-A76D-4F10-888C-F69761C69C37</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b4031e91-c9dd-4925-bc8d-bef0c3da6bd7" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Count" id="693a9dce-b2e4-44a4-bbcd-27a96128d150" name="Check count of [0]">
              <con:configuration>
                <path>$['response']['order']['payments'][*]</path>
                <content>1</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="f67c356a-d5a8-43d2-8953-f3d2b0ef47fc" name="Match content of [id]">
              <con:configuration>
                <path>$['response']['order']['identifier']['id']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="f76599a0-2187-4cbd-8e35-9ff1cea9d1a6" name="Match content of [id]">
              <con:configuration>
                <path>$['response']['order']['payments'][0]['id']</path>
                <content>${#TestCase#paymentId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="orderId" value="${#TestCase#orderId}"/></con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Property Transfer - get order response body to apply basket request" id="cec1c77e-5c32-4094-ab31-6a0ac798e9f4">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>response</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>Order - Get order by orderId after payment added</con:sourceStep>
            <con:sourcePath>$['response']</con:sourcePath>
            <con:targetType>Request</con:targetType>
            <con:targetStep>Order - Apply basket</con:targetStep>
            <con:type>JSONPATH</con:type>
            <con:targetTransferType>JSONPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Order - Apply basket" id="123403e9-baff-4d35-a368-aa607d1ad2d9">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/orders/order/apply-basket" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Order - Apply basket" id="5b6b77c9-cc85-4267-9c89-163988e04b58" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request>{"order":{"returnedStockItems":[],"itemPayments":[],"cancelledIrregularItems":[],"cancelledItems":[],"sessions":[{"deliveringItemIDs":[],"addingIrregularItemIDs":[],"itemPayments":[],"id":"E96A2B4D-FF58-43CD-84CE-ED6287ABF3B4","startedOn":"2020-03-03T14:58:31Z","addingItemIDs":[],"actionIDs":[],"cancellingIrregularItemIDs":[],"removingItemIDs":[],"paymentIDs":["430133CA-9A79-4DF4-B27C-977572EE056D"],"returningItemIDs":[]}],"deliveredItems":[],"notDeliveredItems":[],"identifier":{"deviceIDs":["10C0A774-8878-4307-A500-8A0068DFC6BA"],"organizationID":"755FF39E-C872-41A8-AA9F-2B2A461B8491","id":"FD776DB8-9CC9-4B38-A7DE-532B64A22180","number":"200303-64A22180","sellerIDs":["3C222A7C-5F3E-4318-9D89-D8D074D51DB9"],"warehouseIDs":[],"storeIDs":["235E8BFF-EB7A-4A95-A729-EF18535D6487"],"userIDs":["3C222A7C-5F3E-4318-9D89-D8D074D51DB9"]},"currency":"SEK","deliveredStockItems":[],"reservedStockItems":[],"priceModifierGroups":[],"payments":[{"amount":20568,"extraInfo":"","paymentConfigID":"9870286F-4B8F-484E-BACE-71053130D99D","id":"430133CA-9A79-4DF4-B27C-977572EE056D","serviceTypeValue":"swish","currency":"SEK","serviceType":"swish","roundingAmount":0,"isFulfilled":true}],"irregularItems":[]},"basket":{"reservingStockItems":[],"orderID":"FD776DB8-9CC9-4B38-A7DE-532B64A22180","newIrregularItems":[],"newItems":[{"quantity":1,"unitPrice":{"tax":{"detailPercentage":{},"detailAmount":{},"groupDisplayName":"VAT 25 %","totalAmount":2800,"groupID":"VAT25","totalPercentage":2500000},"currency":"SEK","amountExcludingTax":11200},"product":{"topGroupName":" Lunch","description":"buttermilk dressing, radishes, croutons, parmesan","groupID":"D9921190-42B9-4061-8A93-1087606C0937","name":"Little Gem","groupName":"Vegetarian","topGroupID":"6878830C-2539-4B6B-8022-D07F85FAD0BE","id":"06d8cb0c-5861-499d-8320-5ccff297a093","measurementPrecisionDecimalCount":0,"externalReference":"06d8cb0c-5861-499d-8320-5ccff297a093","measurementUnitCode":"piece","isService":false,"sku":"1111111111","isFlexiblePrice":false},"id":"12BBEE65-9E5F-4E60-A390-BE0CD471503C","price":{"tax":{"detailPercentage":{},"detailAmount":{},"groupDisplayName":"VAT 25 %","groupID":"VAT25","totalAmount":2800,"totalPercentage":2500000},"currency":"SEK","amountExcludingTax":11200}},{"quantity":300,"unitPrice":{"tax":{"detailPercentage":{},"detailAmount":{},"groupDisplayName":"12 %","totalPercentage":1200000,"groupID":"VAT12","totalAmount":703},"currency":"SEK","amountExcludingTax":5857},"id":"9D49AF6F-3366-4594-9444-DFCED3AC9DED","price":{"tax":{"detailPercentage":{},"detailAmount":{},"groupDisplayName":"12 %","totalAmount":210,"groupID":"VAT12","totalPercentage":1200000},"currency":"SEK","amountExcludingTax":1758},"product":{"topGroupName":"Side dishes","description":"","groupID":"661340C8-BA1A-471A-B980-0D939EA05E3F","name":"Potato Cucumber Salad","groupName":"Side dishes","topGroupID":"661340C8-BA1A-471A-B980-0D939EA05E3F","id":"ea6695ea-5415-44de-9c49-97384e535f49","measurementPrecisionDecimalCount":3,"externalReference":"ea6695ea-5415-44de-9c49-97384e535f49","measurementUnitCode":"kg","isService":false,"isFlexiblePrice":false,"sku":"777777777"}},{"quantity":1,"unitPrice":{"amountExcludingTax":5050,"currency":"SEK","flexiblePrice":{"maxAmountExcludingTax":9000,"minAmountExcludingTax":4530},"tax":{"detailAmount":{},"totalAmount":0,"groupDisplayName":"VAT 0 %","groupID":"VAT0","totalPercentage":0,"detailPercentage":{}}},"product":{"topGroupName":"Desserts","description":"","groupID":"4474A680-96AB-4584-B4A1-A17D398C3E3C","groupName":"Desserts","name":"Apfel strudel","topGroupID":"4474A680-96AB-4584-B4A1-A17D398C3E3C","id":"94975a71-e07c-4198-8b62-7371ec779d29","measurementPrecisionDecimalCount":0,"externalReference":"94975a71-e07c-4198-8b62-7371ec779d29","measurementUnitCode":"piece","isService":false,"isFlexiblePrice":true,"sku":"121212121212"},"price":{"currency":"SEK","tax":{"detailPercentage":{},"detailAmount":{},"groupDisplayName":"VAT 0 %","groupID":"VAT0","totalPercentage":0,"totalAmount":0},"amountExcludingTax":4600},"id":"6A2E2058-631B-4597-A4F7-2DB9A7C864C2"}],"deliveringItemsUniqueIdentifiers":[],"removingItemIDs":[],"cancellingIrregularItemIDs":[],"returningItems":[],"id":"A7A44E2E-BDBF-4284-AABA-188C6E4BED93","specifiedItemPayments":[],"deliveringItemsFromWarehouses":[{"warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","itemID":"12BBEE65-9E5F-4E60-A390-BE0CD471503C"},{"warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","itemID":"9D49AF6F-3366-4594-9444-DFCED3AC9DED"},{"warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","itemID":"6A2E2058-631B-4597-A4F7-2DB9A7C864C2"}],"currency":"SEK","priceModifierGroups":[],"unreservingItemIDs":[]}}</con:request>
            <con:originalUri>https://api-dev.kachingretail.com/api/orders/order/apply-basket</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="12fa1f4a-1698-4fe1-8b2d-a44fcacbec66" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple NotContains" id="deb2a592-400e-40c3-8c6f-ba718bd1bbbf" name="Not Contains">
              <con:configuration>
                <token>basket</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="storeId" value="${#TestCase#storeId}"/><con:entry key="deviceId" value="${#Project#deviceId}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>storeId</con:entry>
              <con:entry>deviceId</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Basket - delete basket after order paid" id="431694ee-2c4d-4d77-89b9-d32c80e6bd64">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/orders/basket/{basketId}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Basket - delete basket after order paid" id="8bab7f67-5a98-4d0c-914d-603c6ac7911d" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/orders/basket/670F3609-ED6F-4352-B0FE-84854148031D</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="88695c3e-f57b-414e-ad30-e04f6308c71c" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="basketId" value="${#TestCase#basketId}"/><con:entry key="storeId" value="${#TestSuite#storeId}"/><con:entry key="deviceId" value="${#Project#deviceId}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>basketId</con:entry>
              <con:entry>storeId</con:entry>
              <con:entry>deviceId</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Order - Get order by orderId after basket deleted" id="b3cfae1a-0532-46a2-b4bd-76e1aceb5c27">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/orders/order/{orderId}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Order - Get order by orderId after basket deleted" id="4a7e631c-4483-4f9b-95b5-046f160d3d26" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>${#Project#baseURL}</con:endpoint>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/order/DE3F8EDF-A76D-4F10-888C-F69761C69C37</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b4031e91-c9dd-4925-bc8d-bef0c3da6bd7" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Count" id="693a9dce-b2e4-44a4-bbcd-27a96128d150" name="Check count of [0]">
              <con:configuration>
                <path>$['response']['order']['payments'][*]</path>
                <content>1</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="f67c356a-d5a8-43d2-8953-f3d2b0ef47fc" name="Match content of [id]">
              <con:configuration>
                <path>$['response']['order']['identifier']['id']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="f76599a0-2187-4cbd-8e35-9ff1cea9d1a6" name="Match content of [id]">
              <con:configuration>
                <path>$['response']['order']['payments'][0]['id']</path>
                <content>${#TestCase#paymentId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple NotContains" id="dc68882e-1f29-4a5c-b8cf-6972ea9ba267" name="Not Contains">
              <con:configuration>
                <token>basket</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="orderId" value="${#TestCase#orderId}"/></con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Property Transfer - transfer delivered items to return" id="12375d60-c961-4125-890f-7818f9804958">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>itemsToReturn</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>Order - Get order by orderId after basket deleted</con:sourceStep>
            <con:sourcePath>$['response']['order']['deliveredStockItems']</con:sourcePath>
            <con:targetType>returningItems</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
            <con:targetPath/>
            <con:type>JSONPATH</con:type>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Generate UUID for return basket" id="087a0aa9-27e8-4844-8613-9ce87bd7a0cb">
        <con:settings/>
        <con:config>
          <script>def returnBasketId = UUID.randomUUID().toString().toUpperCase()
testRunner.testCase.setPropertyValue("returnBasketId", returnBasketId)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Basket - save returned items" id="fd2fa588-c3f6-4202-acc5-021926291a56">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/orders/basket/open" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Basket - save returned items" id="c1143e8b-3741-406c-bc5e-b835b9d5d9dc" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request>{
	"cancellingIrregularItemIDs": [],
	"unreservingItemIDs": [],
	"id": "${#TestCase#returnBasketId}",
	"returningItems": ${#TestCase#returningItems},
	"deliveringItemsUniqueIdentifiers": [],
	"newItems": [],
	"reservingStockItems": [],
	"orderID": "${#TestCase#orderId}",
	"removingItemIDs": [],
	"specifiedItemPayments": [],
	"currency": "SEK",
	"newIrregularItems": [],
	"priceModifierGroups": [],
	"deliveringItemsFromWarehouses": []
}</con:request>
            <con:originalUri>https://api-dev.kachingretail.com/api/orders/basket/open</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="38d36d1f-43fd-4416-b505-8df1e8723aa6" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="storeId" value="${#TestCase#storeId}"/><con:entry key="deviceId" value="${#Project#deviceId}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>storeId</con:entry>
              <con:entry>deviceId</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Payment - Initialize refund" id="3b26815c-5727-4cbf-b737-9caaaba6a48c">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/payments/transactions/initialize" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Payment - Initialize refund" id="559f91c2-32fe-49e3-9907-eb553d2c4185" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request>{
  "paymentMethod": "${#TestSuite#method}",
  "orderId": "${#TestCase#orderId}"
}</con:request>
            <con:originalUri>https://api-dev.kachingretail.com/api/payments/transactions/initialize</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="59ace3dd-534d-4cc6-be29-9d3abed36b4d" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="a28e8ad6-0292-4126-8efe-b50f3c420061" name="Match content of [orderId]">
              <con:configuration>
                <path>$['response']['orderId']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="d8937395-1e00-46a7-878a-e0ab81205d23" name="Match content of [paymentStatus]">
              <con:configuration>
                <path>$['response']['paymentStatus']</path>
                <content>INITIALIZED</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="c19e2400-f080-46e1-9e84-4ca48186fde4" name="Match content of [paymentSubStatus]">
              <con:configuration>
                <path>$['response']['paymentSubStatus']</path>
                <content>INITIALIZED</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="sellerId" value="${#TestSuite#sellerId}"/><con:entry key="storeId" value="${#TestCase#storeId}"/><con:entry key="deviceId" value="${#Project#deviceId}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>storeId</con:entry>
              <con:entry>sellerId</con:entry>
              <con:entry>deviceId</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Property Transfer - paymentId for refund" id="55859bb0-f4a8-436d-b796-eb334cfc954d">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>paymentId</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>Payment - Initialize refund</con:sourceStep>
            <con:sourcePath>$['response']['paymentId']</con:sourcePath>
            <con:targetType>refundPaymentId</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
            <con:targetPath/>
            <con:type>JSONPATH</con:type>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Payment - refund payment" id="fbbabd86-be7b-4342-abff-d422847ac6ec">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/payments/transactions/reverse-or-refund" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Payment - refund payment" id="52f410aa-a7a8-420d-b599-e347f2c07980" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request>{
	"originalPaymentToReverseOrRefundId":"${#TestCase#paymentId}",
	"paymentId":"${#TestCase#refundPaymentId}",
	"centAmount":${#TestCase#amountToRefund},
	"details":{"customer": { "phone": "${#TestSuite#phoneNumber}" } },
	"currencyCode":"SEK",
	"order":{"items" : ${#TestCase#newItems}}
}</con:request>
            <con:originalUri>https://api-dev.kachingretail.com/api/payments/transactions/reverse-or-refund</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="fd729984-03e3-43e6-a8c8-91092cfd802c" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="9409c670-3934-4d58-9a81-8e206b1c5dc2" name="Match content of [orderId]">
              <con:configuration>
                <path>$['response']['orderId']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="3bfe2a09-4121-4880-aaf4-0d082df56d10" name="Match content of [paymentId]">
              <con:configuration>
                <path>$['response']['paymentId']</path>
                <content>${#TestCase#refundPaymentId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="bc4846a0-8f63-40b0-84eb-e9bf2cc8c508" name="Match content of [paymentStatus]">
              <con:configuration>
                <path>$['response']['paymentStatus']</path>
                <content>IN_PROGRESS</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="0e60912c-6fff-462c-a3e1-b9f4bfb7eef3" name="Match content of [paymentSubStatus]">
              <con:configuration>
                <path>$['response']['paymentSubStatus']</path>
                <content>PENDING_REFUND</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="d07f17d9-a3b2-4262-a1b2-1212ff58c1c4" name="Match content of [centAmount]">
              <con:configuration>
                <path>$['response']['centAmount']</path>
                <content>${#TestCase#amountToRefund}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="ac317f03-7fac-4a19-9dfa-d6feb8c4e232" name="Match content of [phone]">
              <con:configuration>
                <path>$['response']['details']['customer']['phone']</path>
                <content>${#TestSuite#phoneNumber}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="storeId" value="${#TestCase#storeId}"/><con:entry key="deviceId" value="${#Project#deviceId}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>storeId</con:entry>
              <con:entry>deviceId</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Payment - Get payment by id after refund started" id="15667a00-7a51-46a6-80c1-99f7fcac3b67">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/payments/transactions/{paymentId}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Payment - Get payment by id after refund started" id="9004475e-3190-4af6-86ac-0cfbd07bdb0f" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/payments/transactions/1aef7c6f-f525-412f-9589-144da3489c1b</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5ae3920a-7e58-42a3-992f-dbcb3a49600c" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="6982575a-b842-4276-8207-5700ecac4420" name="Match content of [orderId]">
              <con:configuration>
                <path>$['response']['orderId']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="37b54065-774a-422c-af1d-7cbf09ed34e6" name="Match content of [paymentId]">
              <con:configuration>
                <path>$['response']['paymentId']</path>
                <content>${#TestCase#refundPaymentId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="paymentId" value="${#TestCase#refundPaymentId}"/></con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Repeat until Refund is Ended" id="81f6514f-e7c6-48bd-9be5-210995dbeb9a">
        <con:settings/>
        <con:config>
          <script>def response = context.expand('${Payment - Get payment by id after refund started#Response}')

if (response) {
   def isRetry = true
   def retryNum = 0
   while(isRetry) {
   	   def status = context.expand( '${Payment - Get payment by id after refund started#Response#$[\'response\'][\'paymentStatus\']}' )
        retryNum++
  
        log.info "value of status in the response is ${status}"
        log.info "Retry number: ${retryNum}"
        
        if (status == 'ENDED') {
            log.info "Since the value is ENDED, setting value of isRetry to false"
            isRetry = false
        } else {
		 if (retryNum > 25){
		 	isRetry = false
		 	context.testRunner.fail("Timed out. Payment status is still not Ended. Retried ${retryNum} times")    	
		 } else {
           	log.info "Retry as status is not ENDED"
		 	Thread.sleep(2000)
          	testRunner.runTestStepByName('Payment - Get payment by id after refund started')
		 }
        }
   }
} else {
	log.info "Can't get payment"
}</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Order - Get order by orderId after refund" id="bef2fd18-385e-4d04-a81a-e5d90e73b52b">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/orders/order/{orderId}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Order - Get order by orderId after refund" id="4a7e631c-4483-4f9b-95b5-046f160d3d26" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>${#Project#baseURL}</con:endpoint>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/order/DE3F8EDF-A76D-4F10-888C-F69761C69C37</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b4031e91-c9dd-4925-bc8d-bef0c3da6bd7" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Count" id="693a9dce-b2e4-44a4-bbcd-27a96128d150" name="Check count of [0]">
              <con:configuration>
                <path>$['response']['order']['payments'][*]</path>
                <content>2</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="f67c356a-d5a8-43d2-8953-f3d2b0ef47fc" name="Match content of [id]">
              <con:configuration>
                <path>$['response']['order']['identifier']['id']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple Contains" id="077a5c81-3cb0-4ce8-8116-2bf879fc5169" name="Contains">
              <con:configuration>
                <token>${#TestCase#paymentId}</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple Contains" id="bf961279-3f07-417c-aa11-740dc897f415" name="Contains 2">
              <con:configuration>
                <token>${#TestCase#refundPaymentId}</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="orderId" value="${#TestCase#orderId}"/></con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Property Transfer - get order response body to apply basket request after refund" id="7d11e6e4-846d-44ce-8697-c40bfbc1afae">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>response</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>Order - Get order by orderId after refund</con:sourceStep>
            <con:sourcePath>$['response']</con:sourcePath>
            <con:targetType>Request</con:targetType>
            <con:targetStep>Order - Apply basket for refund</con:targetStep>
            <con:type>JSONPATH</con:type>
            <con:targetTransferType>JSONPATH</con:targetTransferType>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Order - Apply basket for refund" id="99cedbad-4c46-4461-8a4a-454356e41556">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/orders/order/apply-basket" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Order - Apply basket for refund" id="5b6b77c9-cc85-4267-9c89-163988e04b58" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request>{"order":{"deliveredStockItems":[{"warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","uniqueIdentifiers":[],"itemID":"12BBEE65-9E5F-4E60-A390-BE0CD471503C"},{"uniqueIdentifiers":[],"warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","itemID":"6A2E2058-631B-4597-A4F7-2DB9A7C864C2"},{"uniqueIdentifiers":[],"warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","itemID":"9D49AF6F-3366-4594-9444-DFCED3AC9DED"}],"reservedStockItems":[],"currency":"SEK","irregularItems":[],"priceModifierGroups":[],"sessions":[{"paymentIDs":["430133CA-9A79-4DF4-B27C-977572EE056D"],"addingItemIDs":["12BBEE65-9E5F-4E60-A390-BE0CD471503C","6A2E2058-631B-4597-A4F7-2DB9A7C864C2","9D49AF6F-3366-4594-9444-DFCED3AC9DED"],"endedOn":"2020-03-03T14:58:38Z","cancellingIrregularItemIDs":[],"itemPayments":[{"priceModifierTaxAmount":0,"nonFulfilledTaxAmount":0,"nonFulfilledAmountExcludingTax":0,"fulfilledAmountExcludingTax":11200,"priceModifierAmountExcludingTax":0,"itemID":"12BBEE65-9E5F-4E60-A390-BE0CD471503C","fulfilledTaxAmount":2800},{"fulfilledTaxAmount":0,"nonFulfilledAmountExcludingTax":0,"nonFulfilledTaxAmount":0,"itemID":"6A2E2058-631B-4597-A4F7-2DB9A7C864C2","priceModifierAmountExcludingTax":0,"fulfilledAmountExcludingTax":4600,"priceModifierTaxAmount":0},{"fulfilledTaxAmount":210,"nonFulfilledAmountExcludingTax":0,"nonFulfilledTaxAmount":0,"itemID":"9D49AF6F-3366-4594-9444-DFCED3AC9DED","priceModifierAmountExcludingTax":0,"fulfilledAmountExcludingTax":1758,"priceModifierTaxAmount":0}],"actionIDs":[],"addingIrregularItemIDs":[],"removingItemIDs":[],"deliveringItemIDs":["12BBEE65-9E5F-4E60-A390-BE0CD471503C","6A2E2058-631B-4597-A4F7-2DB9A7C864C2","9D49AF6F-3366-4594-9444-DFCED3AC9DED"],"startedOn":"2020-03-03T14:58:31Z","id":"E96A2B4D-FF58-43CD-84CE-ED6287ABF3B4","returningItemIDs":[]},{"paymentIDs":["09603527-805C-4373-94F3-AA44B6AA3519"],"id":"280A5DF2-7B62-4A8B-9290-9F3570610B48","returningItemIDs":[],"deliveringItemIDs":[],"addingIrregularItemIDs":[],"actionIDs":[],"removingItemIDs":[],"startedOn":"2020-03-03T14:58:48Z","itemPayments":[],"cancellingIrregularItemIDs":[],"addingItemIDs":[]}],"payments":[{"paymentConfigID":"9870286F-4B8F-484E-BACE-71053130D99D","amount":-20568,"currency":"SEK","serviceTypeValue":"swish","serviceType":"swish","extraInfo":"","isFulfilled":true,"id":"09603527-805C-4373-94F3-AA44B6AA3519","roundingAmount":0},{"paymentConfigID":"9870286F-4B8F-484E-BACE-71053130D99D","amount":20568,"currency":"SEK","serviceTypeValue":"swish","serviceType":"swish","extraInfo":"","isFulfilled":true,"id":"430133CA-9A79-4DF4-B27C-977572EE056D","roundingAmount":0}],"returnedStockItems":[],"notDeliveredItems":[],"identifier":{"organizationID":"755FF39E-C872-41A8-AA9F-2B2A461B8491","deviceIDs":["10C0A774-8878-4307-A500-8A0068DFC6BA"],"userIDs":["3C222A7C-5F3E-4318-9D89-D8D074D51DB9"],"number":"200303-64A22180","storeIDs":["235E8BFF-EB7A-4A95-A729-EF18535D6487"],"warehouseIDs":[],"id":"FD776DB8-9CC9-4B38-A7DE-532B64A22180","sellerIDs":["3C222A7C-5F3E-4318-9D89-D8D074D51DB9"]},"cancelledItems":[],"deliveredItems":[{"price":{"currency":"SEK","tax":{"groupDisplayName":"VAT 25 %","totalPercentage":2500000,"totalAmount":2800,"detailPercentage":{},"detailAmount":{},"groupID":"VAT25"},"amountExcludingTax":11200},"unitPrice":{"tax":{"groupDisplayName":"VAT 25 %","totalPercentage":2500000,"totalAmount":2800,"detailPercentage":{},"groupID":"VAT25","detailAmount":{}},"currency":"SEK","amountExcludingTax":11200},"quantity":1,"product":{"topGroupID":"6878830C-2539-4B6B-8022-D07F85FAD0BE","externalReference":"06d8cb0c-5861-499d-8320-5ccff297a093","description":"buttermilk dressing, radishes, croutons, parmesan","sku":"1111111111","groupName":"Vegetarian","id":"06d8cb0c-5861-499d-8320-5ccff297a093","topGroupName":" Lunch","groupID":"D9921190-42B9-4061-8A93-1087606C0937","isFlexiblePrice":false,"isService":false,"name":"Little Gem","measurementUnitCode":"piece","measurementPrecisionDecimalCount":0},"id":"12BBEE65-9E5F-4E60-A390-BE0CD471503C","metadata":[]},{"price":{"tax":{"groupDisplayName":"VAT 0 %","totalPercentage":0,"totalAmount":0,"detailPercentage":{},"groupID":"VAT0","detailAmount":{}},"currency":"SEK","amountExcludingTax":4600},"product":{"topGroupID":"4474A680-96AB-4584-B4A1-A17D398C3E3C","externalReference":"94975a71-e07c-4198-8b62-7371ec779d29","description":"","topGroupName":"Desserts","groupID":"4474A680-96AB-4584-B4A1-A17D398C3E3C","groupName":"Desserts","id":"94975a71-e07c-4198-8b62-7371ec779d29","sku":"121212121212","isFlexiblePrice":true,"isService":false,"name":"Apfel strudel","measurementUnitCode":"piece","measurementPrecisionDecimalCount":0},"quantity":1,"id":"6A2E2058-631B-4597-A4F7-2DB9A7C864C2","unitPrice":{"tax":{"groupDisplayName":"VAT 0 %","totalPercentage":0,"totalAmount":0,"detailPercentage":{},"groupID":"VAT0","detailAmount":{}},"currency":"SEK","amountExcludingTax":5050},"metadata":[]},{"price":{"tax":{"groupDisplayName":"12 %","totalPercentage":1200000,"totalAmount":210,"detailPercentage":{},"detailAmount":{},"groupID":"VAT12"},"currency":"SEK","amountExcludingTax":1758},"id":"9D49AF6F-3366-4594-9444-DFCED3AC9DED","quantity":300,"product":{"topGroupID":"661340C8-BA1A-471A-B980-0D939EA05E3F","externalReference":"ea6695ea-5415-44de-9c49-97384e535f49","sku":"777777777","topGroupName":"Side dishes","groupID":"661340C8-BA1A-471A-B980-0D939EA05E3F","groupName":"Side dishes","id":"ea6695ea-5415-44de-9c49-97384e535f49","description":"","isService":false,"isFlexiblePrice":false,"name":"Potato Cucumber Salad","measurementUnitCode":"kg","measurementPrecisionDecimalCount":3},"unitPrice":{"tax":{"groupDisplayName":"12 %","totalPercentage":1200000,"totalAmount":703,"detailPercentage":{},"groupID":"VAT12","detailAmount":{}},"currency":"SEK","amountExcludingTax":5857},"metadata":[]}],"cancelledIrregularItems":[],"itemPayments":[{"fulfilledTaxAmount":210,"itemID":"9D49AF6F-3366-4594-9444-DFCED3AC9DED","fulfilledAmountExcludingTax":1758,"nonFulfilledTaxAmount":0,"priceModifierTaxAmount":0,"nonFulfilledAmountExcludingTax":0,"priceModifierAmountExcludingTax":0},{"fulfilledTaxAmount":0,"itemID":"6A2E2058-631B-4597-A4F7-2DB9A7C864C2","nonFulfilledAmountExcludingTax":0,"nonFulfilledTaxAmount":0,"priceModifierTaxAmount":0,"fulfilledAmountExcludingTax":4600,"priceModifierAmountExcludingTax":0},{"itemID":"12BBEE65-9E5F-4E60-A390-BE0CD471503C","fulfilledTaxAmount":2800,"nonFulfilledAmountExcludingTax":0,"nonFulfilledTaxAmount":0,"priceModifierTaxAmount":0,"fulfilledAmountExcludingTax":11200,"priceModifierAmountExcludingTax":0}]},"basket":{"id":"C0675DFB-1872-4AF6-AD08-B01B00E5141F","newIrregularItems":[],"deliveringItemsUniqueIdentifiers":[],"removingItemIDs":[],"returningItems":[{"warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","uniqueIdentifiers":[],"itemID":"12BBEE65-9E5F-4E60-A390-BE0CD471503C"},{"uniqueIdentifiers":[],"warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","itemID":"6A2E2058-631B-4597-A4F7-2DB9A7C864C2"},{"warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","uniqueIdentifiers":[],"itemID":"9D49AF6F-3366-4594-9444-DFCED3AC9DED"}],"currency":"SEK","deliveringItemsFromWarehouses":[],"specifiedItemPayments":[],"cancellingIrregularItemIDs":[],"priceModifierGroups":[],"reservingStockItems":[],"orderID":"FD776DB8-9CC9-4B38-A7DE-532B64A22180","unreservingItemIDs":[],"newItems":[]}}</con:request>
            <con:originalUri>https://api-dev.kachingretail.com/api/orders/order/apply-basket</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="12fa1f4a-1698-4fe1-8b2d-a44fcacbec66" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple NotContains" id="913f734c-7a32-4291-b8d8-a8645223e3da" name="Not Contains">
              <con:configuration>
                <token>basket</token>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="storeId" value="${#TestCase#storeId}"/><con:entry key="deviceId" value="${#Project#deviceId}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>storeId</con:entry>
              <con:entry>deviceId</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Basket - delete basket after refund" id="51b9cf34-9c3d-4f14-84a6-e66942a68029">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/orders/basket/{basketId}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Basket - delete basket after refund" id="8bab7f67-5a98-4d0c-914d-603c6ac7911d" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/orders/basket/670F3609-ED6F-4352-B0FE-84854148031D</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="88695c3e-f57b-414e-ad30-e04f6308c71c" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="basketId" value="${#TestCase#returnBasketId}"/><con:entry key="storeId" value="${#TestSuite#storeId}"/><con:entry key="deviceId" value="${#Project#deviceId}"/></con:parameters>
            <con:parameterOrder>
              <con:entry>basketId</con:entry>
              <con:entry>storeId</con:entry>
              <con:entry>deviceId</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Payments - Get all transactions for order and verify their statuses" id="02c43d0b-fed4-49ac-a331-673703c31cd0">
        <con:settings/>
        <con:config service="${#Project#baseURL}" resourcePath="/payments/transactions/order/{orderId}" methodName="Method 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Payments - Get all transactions for order and verify their statuses" id="d859d033-11b2-4f4e-a494-d09e42a63e7f" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:request/>
            <con:originalUri>https://api-dev.kachingretail.com/api/payments/transactions/order/AF87F074-B05A-4E1D-BD8A-31F09DA37C5B</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7207e13e-c6aa-45d9-a762-7b41db125f49" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="f727ad44-048e-460b-b3d8-b7d0227e3878" name="Match content of [orderId]">
              <con:configuration>
                <path>$['response'][0]['orderId']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="e7518b89-b184-4735-b5a2-8c5cde154377" name="Match content of [paymentSubStatus]">
              <con:configuration>
                <path>$['response'][0]['paymentSubStatus']</path>
                <content>SUCCEEDED</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="1b0eb0af-1314-4fcb-a7e3-e9f4f526fddc" name="Match content of [paymentStatus]">
              <con:configuration>
                <path>$['response'][0]['paymentStatus']</path>
                <content>ENDED</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="084cf528-b30b-4b41-b961-dd39ab54ca73" name="Match content of [paymentId]">
              <con:configuration>
                <path>$['response'][0]['paymentId']</path>
                <content>${#TestCase#paymentId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Count" id="8a6aa2e5-7fe0-47db-8c0b-b64e17221f5c" name="Check count of [0]">
              <con:configuration>
                <path>$['response'][*]</path>
                <content>2</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="ce9fd708-a98e-4980-9035-63923a14b4e9" name="Match content of [orderId]">
              <con:configuration>
                <path>$['response'][1]['orderId']</path>
                <content>${#TestCase#orderId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="5fdbd126-348b-4b2a-b1a8-57b22019c1d2" name="Match content of [paymentStatus]">
              <con:configuration>
                <path>$['response'][1]['paymentStatus']</path>
                <content>ENDED</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="8cb831ac-c3a8-43c4-b215-608f9c6d103e" name="Match content of [paymentSubStatus]">
              <con:configuration>
                <path>$['response'][1]['paymentSubStatus']</path>
                <content>SUCCEEDED</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath Match" id="fab7cbfd-c3f0-4059-aaaf-3a26bfecbfce" name="Match content of [paymentId]">
              <con:configuration>
                <path>$['response'][1]['paymentId']</path>
                <content>${#TestCase#refundPaymentId}</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters><con:entry key="orderId" value="${#TestCase#orderId}"/></con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="12fa4514-9cd8-4cfa-bdff-13f963c9009f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="d0be80ff-b21f-4b1b-a546-3ae21dc001f8">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="7cdd7c08-5bb6-4018-8dcf-234bef6b659f">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="a93747eb-45aa-4311-b15c-943ff5e2b2cf">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="ac23af5a-9c6e-4b53-85cc-1d18eb01f584">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="50d0f472-59e6-40a3-b900-b2d9ce4c7ef1">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="36448cc6-8d95-475e-b8fb-678302c2cb95">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="aa6ca34e-6a45-42ae-985b-fe4793cc70f0">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
              <con:entry environmentId="08fc71af-2286-45e7-bcc6-3d7935822b9b">
                <con:authProfile>SellerUser</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>storeId</con:name>
          <con:value>235e8bff-eb7a-4a95-a729-ef18535d6487</con:value>
        </con:property>
        <con:property>
          <con:name>orderId</con:name>
          <con:value>FD776DB8-9CC9-4B38-A7DE-532B64A22180</con:value>
        </con:property>
        <con:property>
          <con:name>orderNumber</con:name>
          <con:value>200303-64A22180</con:value>
        </con:property>
        <con:property>
          <con:name>basketId</con:name>
          <con:value>A7A44E2E-BDBF-4284-AABA-188C6E4BED93</con:value>
        </con:property>
        <con:property>
          <con:name>paymentId</con:name>
          <con:value>430133CA-9A79-4DF4-B27C-977572EE056D</con:value>
        </con:property>
        <con:property>
          <con:name>refundPaymentId</con:name>
          <con:value>09603527-805C-4373-94F3-AA44B6AA3519</con:value>
        </con:property>
        <con:property>
          <con:name>returnBasketId</con:name>
          <con:value>C0675DFB-1872-4AF6-AD08-B01B00E5141F</con:value>
        </con:property>
        <con:property>
          <con:name>amountToRefund</con:name>
          <con:value>-20568</con:value>
        </con:property>
        <con:property>
          <con:name>returningItems</con:name>
          <con:value>[{"itemID":"12BBEE65-9E5F-4E60-A390-BE0CD471503C","warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","uniqueIdentifiers":[]}, {"itemID":"6A2E2058-631B-4597-A4F7-2DB9A7C864C2","warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","uniqueIdentifiers":[]}, {"itemID":"9D49AF6F-3366-4594-9444-DFCED3AC9DED","warehouseID":"523A479A-23C9-4A12-91FE-7B1B07E535FB","uniqueIdentifiers":[]}]</con:value>
        </con:property>
        <con:property>
          <con:name>amountToCharge</con:name>
          <con:value>20568</con:value>
        </con:property>
        <con:property>
          <con:name>newItems</con:name>
          <con:value>[{ 			"quantity": 1, 			"id": "12BBEE65-9E5F-4E60-A390-BE0CD471503C", 			"product": { 				"id": "06d8cb0c-5861-499d-8320-5ccff297a093", 				"isService": false, 				"measurementUnitCode": "piece", 				"description": "buttermilk dressing, radishes, croutons, parmesan", 				"topGroupID": "6878830C-2539-4B6B-8022-D07F85FAD0BE", 				"isFlexiblePrice": false, 				"groupID": "D9921190-42B9-4061-8A93-1087606C0937", 				"sku": "1111111111", 				"measurementPrecisionDecimalCount": 0, 				"groupName": "Vegetarian", 				"topGroupName": " Lunch", 				"externalReference": "06d8cb0c-5861-499d-8320-5ccff297a093", 				"name": "Little Gem" 			}, 			"unitPrice": { 				"currency": "SEK", 				"amountExcludingTax": 11200, 				"tax": { 					"groupDisplayName": "VAT 25 %", 					"groupID": "VAT25", 					"totalAmount": 2800, 					"totalPercentage": 2500000, 					"detailPercentage": {}, 					"detailAmount": {} 				} 			}, 			"price": { 				"currency": "SEK", 				"amountExcludingTax": 11200, 				"tax": { 					"groupDisplayName": "VAT 25 %", 					"groupID": "VAT25", 					"totalAmount": 2800, 					"totalPercentage": 2500000, 					"detailPercentage": {}, 					"detailAmount": {} 				} 			} 		}, { 			"quantity": 300, 			"id": "9D49AF6F-3366-4594-9444-DFCED3AC9DED", 			"product": { 				"id": "ea6695ea-5415-44de-9c49-97384e535f49", 				"isService": false, 				"measurementUnitCode": "kg", 				"description": "", 				"topGroupID": "661340C8-BA1A-471A-B980-0D939EA05E3F", 				"isFlexiblePrice": false, 				"groupID": "661340C8-BA1A-471A-B980-0D939EA05E3F", 				"sku": "777777777", 				"measurementPrecisionDecimalCount": 3, 				"groupName": "Side dishes", 				"topGroupName": "Side dishes", 				"externalReference": "ea6695ea-5415-44de-9c49-97384e535f49", 				"name": "Potato Cucumber Salad" 			}, 			"unitPrice": { 				"currency": "SEK", 				"amountExcludingTax": 5857, 				"tax": { 					"groupDisplayName": "12 %", 					"groupID": "VAT12", 					"totalAmount": 703, 					"totalPercentage": 1200000, 					"detailPercentage": {}, 					"detailAmount": {} 				} 			}, 			"price": { 				"currency": "SEK", 				"amountExcludingTax": 1758, 				"tax": { 					"groupDisplayName": "12 %", 					"groupID": "VAT12", 					"totalAmount": 210, 					"totalPercentage": 1200000, 					"detailPercentage": {}, 					"detailAmount": {} 				} 			} 		}, { 			"quantity": 1, 			"id": "6A2E2058-631B-4597-A4F7-2DB9A7C864C2", 			"product": { 				"id": "94975a71-e07c-4198-8b62-7371ec779d29", 				"isService": false, 				"measurementUnitCode": "piece", 				"description": "", 				"topGroupID": "4474A680-96AB-4584-B4A1-A17D398C3E3C", 				"isFlexiblePrice": true, 				"groupID": "4474A680-96AB-4584-B4A1-A17D398C3E3C", 				"sku": "121212121212", 				"measurementPrecisionDecimalCount": 0, 				"groupName": "Desserts", 				"topGroupName": "Desserts", 				"externalReference": "94975a71-e07c-4198-8b62-7371ec779d29", 				"name": "Apfel strudel" 			}, 			"unitPrice": { 				"currency": "SEK", 				"amountExcludingTax": 5050, 				"flexiblePrice": { 					"maxAmountExcludingTax": 9000, 					"minAmountExcludingTax": 4530 				}, 				"tax": { 					"groupDisplayName": "VAT 0 %", 					"groupID": "VAT0", 					"totalAmount": 0, 					"totalPercentage": 0, 					"detailPercentage": {}, 					"detailAmount": {} 				} 			}, 			"price": { 				"currency": "SEK", 				"amountExcludingTax": 4600, 				"tax": { 					"groupDisplayName": "VAT 0 %", 					"groupID": "VAT0", 					"totalAmount": 0, 					"totalPercentage": 0, 					"detailPercentage": {}, 					"detailAmount": {} 				} 			} 		}]</con:value>
        </con:property>
        <con:property>
          <con:name>deliveringItemsFromWarehouses</con:name>
          <con:value>[{          "itemID": "12BBEE65-9E5F-4E60-A390-BE0CD471503C",          "warehouseID": "523A479A-23C9-4A12-91FE-7B1B07E535FB"       }, {          "itemID": "9D49AF6F-3366-4594-9444-DFCED3AC9DED",          "warehouseID": "523A479A-23C9-4A12-91FE-7B1B07E535FB"       }, {          "itemID": "6A2E2058-631B-4597-A4F7-2DB9A7C864C2",          "warehouseID": "523A479A-23C9-4A12-91FE-7B1B07E535FB"       }]</con:value>
        </con:property>
        <con:property>
          <con:name>details1</con:name>
          <con:value><![CDATA[{     "slipData": "<root><text align=\"center\">Kaching AB</text>\n<br/>\n<text align=\"center\">Nybrogatan 39</text>\n<br/>\n<text align=\"center\">11439 Stockholm</text>\n<br/>\n<text align=\"center\">Tfn: 0723318328</text>\n<br/>\n<text align=\"center\">ORG.NR: 559083-2092</text>\n<br/>\n<br/>\n<text align=\"left\">TERMINAL:</text>\n<text align=\"right\">14300CT22819409</text>\n<br/>\n<text align=\"left\">BUTIK:</text>\n<text align=\"right\">12345678 65501628</text>\n<br/>\n<text align=\"left\">KASSÖR:0</text>\n<text align=\"right\">KASSA:0</text>\n<br/>\n<text align=\"left\">DATUM:2020-01-14</text>\n<text align=\"right\">TID:11:34</text>\n<br/>\n<br/>\n<text align=\"center\" bold=\"true\">KÖP</text>\n<br/>\n<text align=\"center\" bold=\"true\">GODKÄNT</text>\n<br/>\n<br/>\n<text align=\"left\">BELOPP</text>\n<text align=\"right\">SEK 239,20</text>\n<br/>\n<text align=\"left\">MOMS</text>\n<text align=\"right\">SEK 59,80</text>\n<br/>\n<text align=\"left\" bold=\"true\">TOTAL</text>\n<text align=\"right\" bold=\"true\">SEK 299,00</text>\n<br/>\n<br/>\n<text align=\"left\">CREDITO DE VISA</text>\n<br/>\n<text align=\"left\">PERSONLIG KOD</text>\n<br/>\n<text align=\"left\">************0119</text>\n<text align=\"right\">PSN:01</text>\n<br/>\n<br/>\n<text align=\"center\">BAM Ca2 1 ___ FSP 027 L00110</text>\n<br/>\n<text align=\"left\">KVITTO:000110</text>\n<text align=\"right\">REF:200114113446</text>\n<br/>\n<br/>\n<text align=\"left\">ATC:00001  AED:090701</text>\n<text align=\"right\">ARC:Y1</text>\n<br/>\n<text align=\"left\">AID:A0000000031010</text>\n<br/>\n<text align=\"left\">TVR:0200000000</text>\n<br/>\n<text align=\"left\">TSI:E800</text>\n<br/>\n<text align=\"left\">TC:E70B2A9CDA115C15</text>\n<br/>\n<br/>\n<text align=\"center\">SPARA KVITTOT, KUNDENS KOPIA</text>\n<br/>\n<br/>\n<cutpaper feed='true' type='full'/></root>",     "slipType": 1 }]]></con:value>
        </con:property>
        <con:property>
          <con:name>details2</con:name>
          <con:value><![CDATA[{     "slipType": 2,     "slipData": "<root><text align=\"center\">Kaching AB</text>\n<br/>\n<text align=\"center\">Nybrogatan 39</text>\n<br/>\n<text align=\"center\">11439 Stockholm</text>\n<br/>\n<text align=\"center\">Tfn: 0723318328</text>\n<br/>\n<text align=\"center\">ORG.NR: 559083-2092</text>\n<br/>\n<br/>\n<text align=\"left\">TERMINAL:</text>\n<text align=\"right\">14300CT22819409</text>\n<br/>\n<text align=\"left\">BUTIK:</text>\n<text align=\"right\">12345678 65501628</text>\n<br/>\n<text align=\"left\">KASSÖR:0</text>\n<text align=\"right\">KASSA:0</text>\n<br/>\n<text align=\"left\">DATUM:2020-01-14</text>\n<text align=\"right\">TID:11:34</text>\n<br/>\n<br/>\n<text align=\"center\" bold=\"true\">KÖP</text>\n<br/>\n<text align=\"center\" bold=\"true\">GODKÄNT</text>\n<br/>\n<br/>\n<text align=\"left\">BELOPP</text>\n<text align=\"right\">SEK 239,20</text>\n<br/>\n<text align=\"left\">MOMS</text>\n<text align=\"right\">SEK 59,80</text>\n<br/>\n<text align=\"left\" bold=\"true\">TOTAL</text>\n<text align=\"right\" bold=\"true\">SEK 299,00</text>\n<br/>\n<br/>\n<text align=\"left\">CREDITO DE VISA</text>\n<br/>\n<text align=\"left\">PERSONLIG KOD</text>\n<br/>\n<text align=\"left\">************0119</text>\n<text align=\"right\">PSN:01</text>\n<br/>\n<br/>\n<text align=\"center\">BAM Ca2 1 ___ FSP 027 L00110</text>\n<br/>\n<text align=\"left\">KVITTO:000110</text>\n<text align=\"right\">REF:200114113446</text>\n<br/>\n<br/>\n<text align=\"left\">ATC:00001  AED:090701</text>\n<text align=\"right\">ARC:Y1</text>\n<br/>\n<text align=\"left\">AID:A0000000031010</text>\n<br/>\n<text align=\"left\">TVR:0200000000</text>\n<br/>\n<text align=\"left\">TSI:E800</text>\n<br/>\n<text align=\"left\">TC:E70B2A9CDA115C15</text>\n<br/>\n<br/>\n<text align=\"left\">KSN:</text>\n<br/>\n<text align=\"left\">FFFF4300692CB3000089</text>\n<br/>\n<text align=\"left\">INFO DATA:</text>\n<br/>\n<text align=\"left\">AEA3201C7DE78ED7FED63899</text>\n<br/>\n<text align=\"left\">84845B7C772EDB2767D76A54</text>\n<br/>\n<br/>\n<text align=\"center\">SPARA KVITTOT, BUTIKENS KOPIA</text>\n<br/>\n<br/>\n<cutpaper feed='true' type='full'/></root>" }]]></con:value>
        </con:property>
        <con:property>
          <con:name>details3</con:name>
          <con:value>{     "terminalID": "14300CT22819409",     "cashierID": "0",     "verificationMethod": "a",     "transactionResult": "0",     "encryptedInformation1": "FFFF4300692CB3000089",     "authorizationMethod": "2",     "encryptedInformation2": "AEA3201C7DE78ED7FED6389984845B7C772EDB2767D76A54",     "retrievalReference": "200114113446",     "accountType": "",     "fromGetTransaction": false,     "currencySymbol": "SEK",     "batchReference": "027",     "phoneNumber": "0723318328",     "orgNumber": "559083-2092",     "copy": false,     "maskedPAN": "************0119",     "financialInstitution": "FSP",     "externalReference": "000140",     "transactionTimestamp": 1579001676,     "currencyCode": "0752",     "authorizationResponder": "1",     "result": 0,     "approvalCode": "L00110",     "name": "Kaching AB",     "acquirerID": "12345678",     "centVATAmount": 5980,     "city": "11439 Stockholm",     "spdhResponseCode": "___",     "productName": "CREDITO DE VISA",     "transactionType": 1,     "internalReference": "000110",     "centAmountExcludingVAT": 23920,     "merchantID": "65501628",     "entryMode": "C",     "address": "Nybrogatan 39",     "status": "515",     "emvData": {         "PSN": "01",         "ARC": "Y1",         "AID": "A0000000031010",         "TVR": "0200000000",         "TSI": "E800",         "AED": "090701",         "TC": "E70B2A9CDA115C15",         "ATC": "00001"     } }</con:value>
        </con:property>
        <con:property>
          <con:name>detailsRefund1</con:name>
          <con:value><![CDATA[{     "slipType": 1,     "slipData": "<root><text align=\"center\">Kaching AB</text>\n<br/>\n<text align=\"center\">Nybrogatan 39</text>\n<br/>\n<text align=\"center\">11439 Stockholm</text>\n<br/>\n<text align=\"center\">Tfn: 0723318328</text>\n<br/>\n<text align=\"center\">ORG.NR: 559083-2092</text>\n<br/>\n<br/>\n<text align=\"left\">TERMINAL:</text>\n<text align=\"right\">14300CT22819409</text>\n<br/>\n<text align=\"left\">BUTIK:</text>\n<text align=\"right\">12345678 65501628</text>\n<br/>\n<text align=\"left\">KASSÖR:0</text>\n<text align=\"right\">KASSA:0</text>\n<br/>\n<text align=\"left\">DATUM:2020-01-14</text>\n<text align=\"right\">TID:14:17</text>\n<br/>\n<br/>\n<text align=\"center\" bold=\"true\">KÖP</text>\n<br/>\n<text align=\"center\" bold=\"true\">MAKULERAT</text>\n<br/>\n<br/>\n<text align=\"left\">BELOPP</text>\n<text align=\"right\">SEK 239,20</text>\n<br/>\n<text align=\"left\">MOMS</text>\n<text align=\"right\">SEK 59,80</text>\n<br/>\n<text align=\"left\" bold=\"true\">TOTAL</text>\n<text align=\"right\" bold=\"true\">SEK 299,00</text>\n<br/>\n<br/>\n<text align=\"left\">CREDITO DE VISA</text>\n<br/>\n<text align=\"left\">PERSONLIG KOD</text>\n<br/>\n<text align=\"left\">************0119</text>\n<text align=\"right\">PSN:01</text>\n<br/>\n<br/>\n<text align=\"center\">BAM Ca2 1 ___ FSP 027 L00116</text>\n<br/>\n<text align=\"left\">KVITTO:000116</text>\n<text align=\"right\">REF:305000445495</text>\n<br/>\n<br/>\n<text align=\"left\">ATC:00001  AED:090701</text>\n<text align=\"right\">ARC:Y1</text>\n<br/>\n<text align=\"left\">AID:A0000000031010</text>\n<br/>\n<text align=\"left\">TVR:0200000000</text>\n<br/>\n<text align=\"left\">TSI:E800</text>\n<br/>\n<text align=\"left\">TC:0892219E551D2A5F</text>\n<br/>\n<br/>\n<text align=\"center\">SPARA KVITTOT, KUNDENS KOPIA</text>\n<br/>\n<br/>\n<cutpaper feed='true' type='full'/></root>" }]]></con:value>
        </con:property>
        <con:property>
          <con:name>detailsRefund2</con:name>
          <con:value><![CDATA[{     "slipData": "<root><text align=\"center\">Kaching AB</text>\n<br/>\n<text align=\"center\">Nybrogatan 39</text>\n<br/>\n<text align=\"center\">11439 Stockholm</text>\n<br/>\n<text align=\"center\">Tfn: 0723318328</text>\n<br/>\n<text align=\"center\">ORG.NR: 559083-2092</text>\n<br/>\n<br/>\n<text align=\"left\">TERMINAL:</text>\n<text align=\"right\">14300CT22819409</text>\n<br/>\n<text align=\"left\">BUTIK:</text>\n<text align=\"right\">12345678 65501628</text>\n<br/>\n<text align=\"left\">KASSÖR:0</text>\n<text align=\"right\">KASSA:0</text>\n<br/>\n<text align=\"left\">DATUM:2020-01-14</text>\n<text align=\"right\">TID:14:17</text>\n<br/>\n<br/>\n<text align=\"center\" bold=\"true\">KÖP</text>\n<br/>\n<text align=\"center\" bold=\"true\">MAKULERAT</text>\n<br/>\n<br/>\n<text align=\"left\">BELOPP</text>\n<text align=\"right\">SEK 239,20</text>\n<br/>\n<text align=\"left\">MOMS</text>\n<text align=\"right\">SEK 59,80</text>\n<br/>\n<text align=\"left\" bold=\"true\">TOTAL</text>\n<text align=\"right\" bold=\"true\">SEK 299,00</text>\n<br/>\n<br/>\n<text align=\"left\">CREDITO DE VISA</text>\n<br/>\n<text align=\"left\">PERSONLIG KOD</text>\n<br/>\n<text align=\"left\">************0119</text>\n<text align=\"right\">PSN:01</text>\n<br/>\n<br/>\n<text align=\"center\">BAM Ca2 1 ___ FSP 027 L00116</text>\n<br/>\n<text align=\"left\">KVITTO:000116</text>\n<text align=\"right\">REF:305000445495</text>\n<br/>\n<br/>\n<text align=\"left\">ATC:00001  AED:090701</text>\n<text align=\"right\">ARC:Y1</text>\n<br/>\n<text align=\"left\">AID:A0000000031010</text>\n<br/>\n<text align=\"left\">TVR:0200000000</text>\n<br/>\n<text align=\"left\">TSI:E800</text>\n<br/>\n<text align=\"left\">TC:0892219E551D2A5F</text>\n<br/>\n<br/>\n<br/>\n<text align=\"center\">SPARA KVITTOT, BUTIKENS KOPIA</text>\n<br/>\n<br/>\n<cutpaper feed='true' type='full'/></root>",     "slipType": 2 }]]></con:value>
        </con:property>
        <con:property>
          <con:name>detailsRefund3</con:name>
          <con:value>{     "merchantID": "65501628",     "centAmountExcludingVAT": 0,     "phoneNumber": "0723318328",     "address": "Nybrogatan 39",     "internalReference": "000117",     "retrievalReference": "",     "status": "515",     "transactionTimestamp": 1579011479,     "currencyCode": "0752",     "orgNumber": "559083-2092",     "city": "11439 Stockholm",     "centVATAmount": 0,     "terminalID": "14300CT22819409",     "transactionType": 3,     "encryptedInformation1": "",     "name": "Kaching AB",     "accountType": "",     "verificationMethod": "-",     "currencySymbol": "SEK",     "emvData": {},     "transactionResult": "0",     "copy": false,     "cashierID": "",     "externalReference": "000145",     "maskedPAN": "",     "encryptedInformation2": "",     "entryMode": "-",     "fromGetTransaction": false,     "result": 0,     "productName": "",     "approvalCode": "______",     "spdhResponseCode": "___",     "batchReference": "027",     "acquirerID": "12345678",     "authorizationResponder": "-",     "financialInstitution": "___",     "authorizationMethod": "-" }</con:value>
        </con:property>
        <con:property>
          <con:name>itemId1</con:name>
          <con:value>12BBEE65-9E5F-4E60-A390-BE0CD471503C</con:value>
        </con:property>
        <con:property>
          <con:name>itemId2</con:name>
          <con:value>9D49AF6F-3366-4594-9444-DFCED3AC9DED</con:value>
        </con:property>
        <con:property>
          <con:name>itemId3</con:name>
          <con:value>6A2E2058-631B-4597-A4F7-2DB9A7C864C2</con:value>
        </con:property>
      </con:properties>
      <con:reportParameters/>
      <con:breakPoints>
        <con:testStepId>cd62e69c-2b11-44b5-9aea-57d328f503d9</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>809701c1-4346-4f07-bace-c8085e4368a7</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>e0108a08-5af3-468c-b8a5-bc26a492c92b</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>d54ca3af-79c5-44b7-9e4a-96142694c109</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>87f5c62d-1ba2-4c11-92b0-d24ac4f358af</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>ec719f65-9b8d-45de-87a8-191b9bc96253</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>10ffa434-38dd-4f6f-a48b-76530efb2fab</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>75c61fd1-9eb5-400d-9fa0-516c7a7df825</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>f566fc08-cb63-402a-a14f-f6e7e2ec8b8c</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>49e1df81-ac9d-4f8b-92af-37692d25167d</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>dcc33171-940f-4421-a2f3-7139dd30ebaf</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>a87e45b4-3002-4cb9-b79b-184676d15864</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>28299930-7646-4d76-bbb7-e3e722d7cb98</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>3268aa6e-5bd6-4eb1-a431-f9cb30d868cc</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>4b4be1b8-2ba4-4fc9-a798-bd8d89d14d34</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>4e699691-d63c-4e71-9e2b-015c2f9b6e2d</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>0a45f3f3-290f-4381-863e-a45a11eefacc</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>99eaa664-7005-4229-ac54-0cc52ef9b401</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>7909422f-d5d9-4bcd-a241-f491263fad27</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>81f6514f-e7c6-48bd-9be5-210995dbeb9a</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>bef2fd18-385e-4d04-a81a-e5d90e73b52b</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>15667a00-7a51-46a6-80c1-99f7fcac3b67</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
    </con:testCase>